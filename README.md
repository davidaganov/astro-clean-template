# Руководство для Astro Clean Template

## Обзор проекта

Этот шаблон представляет собой современную сборку на базе **Astro** для быстрой разработки статических сайтов. Сборка ориентирована на верстку сайтов для дальнейшего подключения верстки и стилей к CMS/фреймворкам, поэтому в сборке нет минификации, автопрефексера, полифилов и т.д.

## Структура проекта

```
├── src/
│   ├── assets/                   # Статические ресурсы
│   │   ├── script/               # Скрипты проекта
│   │   │   └── main.js           # Основной файл (точка входа)
│   │   └── styles/               # Стили проекта
│   │       ├── main.scss         # Главный файл стилей
│   │       ├── variables.scss    # CSS-переменные
│   │       └── reset.scss        # Сброс стилей
│   ├── components/               # Компоненты проекта
│   │   ├── base/                 # Базовые компоненты (Button, Input)
│   │   ├── general/              # Общие компоненты (Header, Footer, Head)
│   │   └── pages/                # Компоненты страниц
│   ├── layouts/                  # Макеты страниц
│   └── pages/                    # Страницы сайта
├── public/                       # Публичные файлы
└── astro.config.mjs              # Конфигурация Astro
```

## Архитектурные принципы

### 1. Компонентная архитектура

- **Base компоненты**: Переиспользуемые примитивы (Button, Input, Modal)
- **General компоненты**: Общие элементы интерфейса (Header, Footer, Navigation)
- **Pages компоненты**: Специфичные для конкретных страниц компоненты

### 2. Стилизация

- Используем **SCSS** с модульной архитектурой
- **CSS-переменные** для цветов, шрифтов и размеров
- **BEM-методология** для именования классов

## Правила разработки

### Компоненты Astro

#### Структура компонента

```astro
---
// Типизация пропсов
export interface Props {
  title?: string
  variant?: "primary" | "secondary"
  size?: "sm" | "md" | "lg"
}

// Деструктуризация с значениями по умолчанию
const { title, variant = "primary", size = "md" } = Astro.props

// Логика компонента
const classes = `component component-${variant} component-${size}`
---

<!-- Шаблон -->
<div class={classes}>
  <h2>{title}</h2>
  <slot />
</div>

<!-- Стили компонента -->
<style lang="scss" is:global>
  .component {
    // Стили компонента
  }
</style>
```

#### Правила именования

- **PascalCase** для названий компонентов: `Button.astro`, `Header.astro`
- **kebab-case** для CSS-классов: `btn-primary`, `header-nav`
- **camelCase** для JavaScript переменных и функций

## Сборка и развертывание

### Команды npm

```bash
npm run dev      # Запуск режима разработки
npm run build    # Сборка для продакшена
npm run preview  # Предпросмотр сборки
```

## Troubleshooting

### Распространенные проблемы

1. **Scoped аттрибуты**: Если вы пишите стили в блоке <style></style> внутри компонента - нужно добавлять is:global чтобы избежать попадание data-аттрибутов в HTML/CSS после `npm run build`

## Заключение

Ранее я использовал для подобных целей [GULP + EJS](https://github.com/davidaganov/gulp-ejs-template)
